require=function s(r,a,l){function h(e,t){if(!a[e]){if(!r[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=a[e]={exports:{}};r[e][0].call(n.exports,function(t){return h(r[e][1][t]||t)},n,n.exports,s,r,a,l)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({ATile:[function(t,e,o){"use strict";cc._RF.push(e,"6f90b/HapFGeJ/T4ChN38us","ATile"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(){function t(t){this.g=0,this.h=0,this.f=0,this.position=null,this.last=null,t&&(this.position=t)}return t.prototype.getF=function(){this.f=this.g+this.h},t=__decorate([n],t)}());o.default=s,cc._RF.pop()},{}],BulletPosion:[function(t,e,o){"use strict";cc._RF.push(e,"316693cPIpBZpKwqRiNpaX0","BulletPosion"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Enemy"),n=cc._decorator,s=n.ccclass,r=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.indexTarget=0,t.damageNormal=1,t.damagePosion=1,t.slow=1,t}return __extends(t,e),t.prototype.update=function(t){this.target.name||this.node.destroy(),this.target&&this.bulletTarget()},t.prototype.onLoad=function(){},t.prototype.bulletTarget=function(){if(this.target){var t=this.node.getPosition(),e=this.target.getPosition(),o=cc.pNormalize(cc.pSub(e,t)),i=cc.pAdd(t,cc.pMult(o,15));this.node.setPosition(i)}},t.prototype.onCollisionEnter=function(t,e){"1"==t.tag&&(t.node.getComponent(i.default).index==this.indexTarget&&(t.node.getComponent(i.default).activePosion(this.damagePosion,this.slow,8),t.node.getComponent(i.default).takeDame(this.damageNormal)),this.node.destroy())},t=__decorate([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./Enemy":"Enemy"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"d3b5a2FkzFOV5DDyYRClDO8","Bullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Enemy"),n=cc._decorator,s=n.ccclass,r=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.indexTarget=0,t.damage=1,t.critDamage=1,t.slow=1,t}return __extends(t,e),t.prototype.update=function(t){this.target.name||this.node.destroy(),this.target&&this.bulletTarget()},t.prototype.onLoad=function(){},t.prototype.bulletTarget=function(){if(this.target){var t=this.node.getPosition(),e=this.target.getPosition(),o=cc.pNormalize(cc.pSub(e,t)),i=cc.pAdd(t,cc.pMult(o,15));this.node.setPosition(i)}},t.prototype.onCollisionEnter=function(t,e){if("1"==t.tag){if(t.node.getComponent(i.default).index==this.indexTarget){1==Math.floor(4*Math.random())+1&&(this.damage*=this.critDamage),t.node.getComponent(i.default).takeDame(this.damage),1<this.slow&&t.node.getComponent(i.default).slow(this.slow)}this.node.destroy()}},t=__decorate([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./Enemy":"Enemy"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"8f27aTiXWpHM4uTwJPYAxR2","Enemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./HitDamage"),n=cc._decorator,s=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startHealth=6e3,t.startSpeed=1.5,t.index=0,t.speed=1.5,t.pathMove=[],t.delayTime=0,t.currentHealth=0,t.damePosion=0,t.slowPer=0,t.gameController=null,t.endPos=null,t.hitPrefab=null,t.progressBar=null,t}return __extends(t,e),t.prototype.damageToEndPos=function(){return 1},t.prototype.update=function(t){this.checkEndPos(),this.move(),this.hpUI()},t.prototype.onLoad=function(){this.speed=this.startSpeed,this.currentHealth=this.startHealth},t.prototype.hpUI=function(){this.progressBar.progress=this.currentHealth/this.startHealth},t.prototype.move=function(){if(0<this.pathMove.length){var t=Math.round(this.node.x),e=Math.round(this.pathMove[0].x);if(t!=e){if(t<e){if(this.node.x+=this.speed,this.node.x>e)return this.node.setPosition(this.pathMove[0]),void this.pathMove.shift()}else if(this.node.x-=this.speed,this.node.x<e)return this.node.setPosition(this.pathMove[0]),void this.pathMove.shift()}else if(this.node.y<this.pathMove[0].y){if(this.node.y+=this.speed,this.node.y>this.pathMove[0].y)return this.node.setPosition(this.pathMove[0]),void this.pathMove.shift()}else if(this.node.y-=this.speed,this.node.y<this.pathMove[0].y)return this.node.setPosition(this.pathMove[0]),void this.pathMove.shift();cc.pointEqualToPoint(this.node.getPosition(),this.pathMove[0])&&this.pathMove.shift()}},t.prototype.checkEndPos=function(){var t=this.gameController.mapController.tilePosistion(this.node.getPosition()),e=this.gameController.mapController.tilePosistion(this.endPos);cc.pointEqualToPoint(t,e)&&(this.gameController.takeDamage(this.damageToEndPos()),this.node.destroy())},t.prototype.takeDame=function(t){this.currentHealth-=t,this.currentHealth<=0&&this.node.destroy();var e=cc.instantiate(this.hitPrefab);e.setPosition(this.node.getPosition()),e.getComponent(i.default).damageDisplay=t,this.gameController.mapController.node.addChild(e)},t.prototype.activePosion=function(t,e,o){t>this.damePosion&&(this.damePosion=t),e>this.slowPer&&(this.slowPer=e),this.speed=this.startSpeed-this.startSpeed*e/100,this.unschedule(this.takePosion),this.unschedule(this.ReleaseSlow),this.schedule(this.takePosion,1,o-1,0),this.schedule(this.ReleaseSlow,o+1,0,0)},t.prototype.takePosion=function(){this.currentHealth-=this.damePosion,this.currentHealth<=0&&this.node.destroy();var t=cc.instantiate(this.hitPrefab);t.setPosition(this.node.getPosition()),t.getComponent(i.default).damageDisplay=this.damePosion,this.gameController.mapController.node.addChild(t)},t.prototype.ReleaseSlow=function(){this.damePosion=0,this.slowPer=0,this.speed=this.startSpeed},t.prototype.slow=function(t){this.speed=this.startSpeed-this.startSpeed*t/100},__decorate([r(cc.ProgressBar)],t.prototype,"progressBar",void 0),t=__decorate([s],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./HitDamage":"HitDamage"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"ff067PVApxGxq/WZzaAv8HO","GameController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./MapController"),r=t("./Tile"),C=t("./Gem"),l=t("./Stone"),a=t("./Enemy"),p=t("./InitData"),n=t("./GemOpal"),s=cc._decorator,h=s.ccclass,c=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gemCurrentClick=null,t.countGemCreate=0,t.round=1,t.numOfenemy=3,t.hp=20,t.gold=0,t.mileWays=[],t.tiles=[],t.gems=[],t.gemsCurrentWay=[],t.path=[],t.stones=[],t.row=0,t.col=0,t.indexAround=[],t.tileSize=0,t.enemys=[],t.endPos=null,t.indexKeepGem=0,t.indexEnemy=1,t.gemDisplaying=null,t.isEndWay=!1,t.isActiveWay=!1,t.isKeepGem=!1,t.pathCanMove=!0,t.gemThisWay=null,t.tempCreateGem=null,t.stonePick=null,t.gemPrefab=[],t.enemyPrefab=null,t.stonePrefab=null,t.milePrefab=null,t.hitPrefab=null,t.blockInPutMap=null,t.shopUi=null,t.playerUi=null,t.showInput=null,t.displayInfoGem=null,t.btnKeepGem=null,t.btnCreateGem=null,t.btnStartWay=null,t.btnRemoveStone=null,t.pathPrefab=null,t.showPaths=null,t.listHighlight=null,t.notifica=null,t.gra=null,t.dataGem=[],t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0;var t=cc.url.raw("resources/Gem.json"),o=this;cc.loader.load(t,function(t,e){o.dataGem=e}),this.roundUI=this.playerUi.getChildByName("Round").getComponent(cc.Label),this.enemysWayUI=this.playerUi.getChildByName("EnemysWay").getComponent(cc.Label),this.hpUI=this.playerUi.getChildByName("HP").getComponent(cc.Label),this.goldUI=this.playerUi.getChildByName("Gold").getComponent(cc.Label),this.tileSize=16,this.mileWays=p.default.mileWays,(this.mapController.gameController=this).isActiveWay=!1,this.gold=2e3,this.row=44,this.col=60,this.indexEnemy=1,this.setSizeUI();for(var e=0;e<this.mileWays.length;e++){var i=cc.instantiate(this.milePrefab);i.setPosition(this.mapController.pixelPosition(this.mileWays[e])),i.getChildByName("index").getComponent(cc.Label).string=(e+1).toString(),this.mapController.node.addChild(i)}for(e=0;e<this.col;e++)for(var n=0;n<this.row;n++){var s=new r.default;s.hasGem=s.hasStone=!1,s.pos=cc.v2(n,e),this.tiles.push(s)}this.addTouch(),this.updateUi(),this.gra.node.setPosition(this.mapController.pixelPosition(this.mileWays[0]).x-8,this.mapController.pixelPosition(this.mileWays[0]).y-8)},t.prototype.setSizeUI=function(){var t=(cc.director.getWinSize().width-16*this.row)/2,e=this.mapController.getComponent(cc.Widget);e.left=e.right=t},t.prototype.getPaths=function(){this.path=[];for(var t=0;t<this.mileWays.length-1;t++){var e=this.mapController.moveToward(this.mileWays[t],this.mileWays[t+1]);if(e.length<1){this.pathCanMove=!1,console.log("Can't Move");break}this.pathCanMove=!0,this.path.push(e)}},t.prototype.addTouch=function(){var m,y,g,f,v=this,t=function(t){var e=t.getTouches()[0].getLocation(),o=v.mapController.node.convertToNodeSpaceAR(e);if(v.endPos=o,m=v.mapController.tilePosistion(o),y=v.mapController.pixelPosition(m),g=m.y*v.row+m.x,v.indexAround=[m.y*v.row+m.x,m.y*v.row+m.x+1,(m.y+1)*v.row+m.x,(m.y+1)*v.row+m.x+1],v.tiles[g]&&f!=g){if(v.countGemCreate<5&&!v.tiles[g].hasGem)if(v.showInput.active=!0,v.showInput.setPosition(cc.v2(y.x+v.tileSize/2,y.y-v.tileSize/2)),v.isCanCreateGem()){if(f!=g){f=g;for(var i=0,n=v.indexAround;i<n.length;i++){var s=n[i];v.tiles[s].hasGem=!0}v.getPaths();for(var r=0,a=v.indexAround;r<a.length;r++){s=a[r];v.tiles[s].hasGem=!1}}v.pathCanMove?(v.showPaths.active=!0,v.showPathsMove(),v.btnCreateGem.active=!0,v.showInput.color=cc.Color.YELLOW):(v.showPaths.active=!1,v.btnCreateGem.active=!1,v.showInput.color=cc.Color.RED,v.showInput.active=!1)}else v.showPaths.active=!1,v.showInput.active=!1,v.btnCreateGem.active=!1,v.showInput.color=cc.Color.RED;if(v.gemThisWay=null,v.tiles[g].hasStone||(v.stonePick=null,v.btnRemoveStone.active=!1),v.tiles[g].hasGem){if(!v.isKeepGem)for(var l=0,h=v.gemsCurrentWay;l<h.length;l++)for(var c=(s=h[l]).getComponent(C.default).pos,p=0,d=[cc.v2(c.x,c.y),cc.v2(c.x+1,c.y),cc.v2(c.x,c.y+1),cc.v2(c.x+1,c.y+1)];p<d.length;p++){var u=d[p];if(cc.pointEqualToPoint(u,m)){v.gemThisWay=s,v.indexKeepGem=g;break}}}else v.gemDisplaying=null,v.displayInfoGem.active=!1;v.updateUi()}};v.mapController.node.on(cc.Node.EventType.TOUCH_START,t,v.mapController.node),v.mapController.node.on(cc.Node.EventType.TOUCH_MOVE,t,v.mapController.node),v.mapController.node.on(cc.Node.EventType.TOUCH_CANCEL,t,v.mapController.node),v.mapController.node.on(cc.Node.EventType.TOUCH_END,t,v.mapController.node)},t.prototype.showPathsMove=function(){this.showPaths.removeAllChildren();for(var t=this.path,e=0;e<t.length;e++)for(var o=0;o<t[e].length;o++){var i=cc.instantiate(this.pathPrefab),n=this.mapController.pixelPosition(t[e][o]);i.setPosition(cc.v2(n.x,n.y)),this.showPaths.addChild(i)}},t.prototype.isCanCreateGem=function(){var t=this.mapController.tilePosistion(this.endPos);if(t.y<0||t.x<0||t.x+1>=this.row||t.y+1>=this.col)return!1;for(var e=0,o=this.indexAround;e<o.length;e++){var i=o[e];if(this.tiles[i]&&(this.tiles[i].hasGem||this.tiles[i].hasStone))return!1;this.mileWays;for(var n=0;n<this.mileWays.length;n++)if(this.tiles[i]&&this.tiles[i].pos.x==this.mileWays[n].x&&this.tiles[i].pos.y==this.mileWays[n].y)return!1}return!0},t.prototype.createGem=function(){if(!this.isCanCreateGem())return!1;this.showPaths.active=!1,this.showInput.active=!1;var t=this.mapController.tilePosistion(this.endPos),e=this.mapController.pixelPosition(t),o=this.gemPrefab.length-1,i=Math.floor(Math.random()*(o-0+1))+0,n=cc.instantiate(this.gemPrefab[i]);n.getComponent(C.default).pos=t,n.getComponent(C.default).gameController=this,n.getComponent(C.default).posSquare=[t.y*this.row+t.x,t.y*this.row+t.x+1,(t.y+1)*this.row+t.x,(t.y+1)*this.row+t.x+1],n.setPosition(cc.v2(e.x+this.tileSize/2,e.y-this.tileSize/2)),this.mapController.node.addChild(n),this.gemsCurrentWay.push(n);for(var s=this.listHighlight.children,r=0;r<this.gemsCurrentWay.length;r++)s[r].active=!0,s[r].position=this.gemsCurrentWay[r].getPosition();this.countGemCreate++;for(var a=0,l=this.indexAround;a<l.length;a++){var h=l[a];this.tiles[h].hasGem=!0,this.tiles[h].hasStone=!1}this.indexAround=[],this.btnCreateGem.active=!1,this.updateUi()},t.prototype.updateListGems=function(){var t=this.mapController.node.children;this.gems=[];for(var e=t.length,o=0;o<e;o++){if(t[o].getComponent(C.default)){var i=t[o];this.gems.push(i)}}},t.prototype.updateListStone=function(){var t=this.mapController.node.children;this.stones=[];for(var e=t.length,o=0;o<e;o++){if(t[o].getComponent(l.default)){var i=t[o];this.stones.push(i)}}},t.prototype.startWay=function(){if(this.getPaths(),this.pathCanMove){this.indexEnemy=1,this.schedule(this.createEnemy,.5,this.numOfenemy-1),this.schedule(this.updateListEnemy,0,cc.macro.REPEAT_FOREVER,.1),this.schedule(this.updateListGems,0,cc.macro.REPEAT_FOREVER,.1),this.schedule(this.checkEndWay,.1,cc.macro.REPEAT_FOREVER,5),this.isActiveWay=!0,this.updateUi()}},t.prototype.createEnemy=function(){var t=cc.instantiate(this.enemyPrefab),e=this.mapController.pixelPosition(this.mileWays[0]);t.setPosition(e);var o=this.mapController.pixelPosition(this.mileWays[this.mileWays.length-1]);t.getComponent(a.default).endPos=o;for(var i=[],n=0;n<this.path.length;++n)for(var s=0;s<this.path[n].length;++s){var r=this.mapController.pixelPosition(this.path[n][s]);i.push(r)}t.getComponent(a.default).pathMove=i,t.getComponent(a.default).gameController=this,t.getComponent(a.default).hitPrefab=this.hitPrefab,t.getComponent(a.default).index=this.indexEnemy,this.mapController.node.addChild(t),this.indexEnemy++},t.prototype.KeepGem=function(){this.gemThisWay=null,this.isKeepGem=!0;for(var t=0,e=this.listHighlight.children;t<e.length;t++){e[t].active=!1}for(var o=0;o<this.gemsCurrentWay.length;o++)for(var i=0,n=this.gemsCurrentWay[o].getComponent(C.default).posSquare;i<n.length;i++){if((s=n[i])==this.indexKeepGem){this.gemsCurrentWay.splice(o,1);break}}for(var s=0;s<this.gemsCurrentWay.length;s++){var r=cc.instantiate(this.stonePrefab),a=this.gemsCurrentWay[s].getComponent(C.default).posSquare;r.setPosition(this.gemsCurrentWay[s].getPosition()),r.getComponent(l.default).posSquare=a,r.getComponent(l.default).gameController=this,r.getComponent(l.default).pos=this.gemsCurrentWay[s].getComponent(C.default).pos,this.mapController.node.addChild(r);for(o=0;o<a.length;o++)this.tiles[a[o]].hasGem=!1,this.tiles[a[o]].hasStone=!0;this.gemsCurrentWay[s].destroy()}this.gemsCurrentWay=[],this.updateUi()},t.prototype.updateUi=function(){this.isActiveWay?this.btnStartWay.active=!1:5<=this.countGemCreate?(this.gemThisWay?this.btnKeepGem.active=!0:this.btnKeepGem.active=!1,this.isKeepGem?this.btnStartWay.active=!0:this.btnStartWay.active=!1):this.btnKeepGem.active=!1,this.isActiveWay?this.notifica.string="":(this.countGemCreate<5?this.notifica.string="Build "+(5-this.countGemCreate)+" Gem":(this.notifica.string="Choose 1 in 5 Gem",this.isKeepGem&&(this.notifica.string="Start Way")),this.notifica.node.opacity=255,this.notifica.node.runAction(cc.fadeOut(2))),this.roundUI.string="Round : "+this.round.toString(),this.enemysWayUI.string="Enemy : "+this.numOfenemy.toString(),this.hpUI.string="Hp : "+this.hp.toString(),this.goldUI.string="Gold : "+this.gold.toString(),this.displayInfoGem.setSiblingIndex(this.mapController.node.childrenCount-1)},t.prototype.resetWay=function(){this.unscheduleAllCallbacks(),this.countGemCreate=0,this.isEndWay=!1,this.isActiveWay=!1,this.countGemCreate=0,this.isKeepGem=!1,this.pathCanMove=!1,this.updateUi()},t.prototype.updateListEnemy=function(){this.enemys=[];for(var t=this.mapController.node.children,e=t.length,o=0;o<e;o++){t[o].getComponent(a.default)&&this.enemys.push(t[o])}},t.prototype.checkEndWay=function(){this.isActiveWay&&0==this.enemys.length&&(this.isEndWay=!0,this.round++,this.numOfenemy++,this.resetWay())},t.prototype.showDisplayGem=function(t,e,o,i,n){this.gemDisplaying=n,this.displayInfoGem.active=!0;var s=this.mapController.pixelPosition(t);this.displayInfoGem.setPosition(cc.v2(s.x+this.tileSize/2,s.y-this.tileSize/2));var r=this.displayInfoGem.getChildByName("stats").getChildByName("Name").getComponent(cc.Label),a=this.displayInfoGem.getChildByName("stats").getChildByName("Damage").getComponent(cc.Label);r.string=e,o[0]!=o[1]?a.string="Damage : "+o[0]+" - "+o[1]:a.string="Damage : "+o[0],this.displayInfoGem.getChildByName("Range").setContentSize(2*i,2*i);var l=this.displayInfoGem.getChildByName("Upgrade"),h=this.displayInfoGem.getChildByName("Upgrade").getComponent(cc.Button),c=this.displayInfoGem.getChildByName("Sell");this.checkGemInGemsCurrentWay(this.gemDisplaying)?(l.active=!1,c.active=!1):(c.active=!0,l.active=!0,this.gemDisplaying.node.getComponent(C.default).currentLevel>=p.default.maxLevelGem?(l.getChildByName("cost").getComponent(cc.Label).string="Max Level",h.interactable=!1):(l.getChildByName("cost").getComponent(cc.Label).string="10",h.interactable=!0))},t.prototype.checkGemInGemsCurrentWay=function(t){for(var e=0,o=this.gemsCurrentWay;e<o.length;e++)for(var i=o[e].getComponent(C.default).pos,n=0,s=[cc.v2(i.x,i.y),cc.v2(i.x+1,i.y),cc.v2(i.x,i.y+1),cc.v2(i.x+1,i.y+1)];n<s.length;n++){var r=s[n],a=t.getComponent(C.default).pos;if(cc.pointEqualToPoint(r,a))return!0}return!1},t.prototype.takeDamage=function(t){this.hp-=t,this.hp<=0&&(this.hp=0,this.updateUi(),console.log("End Game")),this.updateUi()},t.prototype.upgradeGem=function(){var t=this.gemDisplaying.node.getComponent(C.default);if(this.gold>=t.cost()){this.gold-=t.cost(),t.currentLevel++,t.updateParameter();var e=[t.minDamage(),t.maxDamage()];this.showDisplayGem(t.pos,t.Type(),e,t.range(),this.gemDisplaying)}else console.log("Not Enough Gold")},t.prototype.sellGem=function(){var t=this.gemDisplaying.node,e=t.getComponent(C.default).posSquare,o=cc.instantiate(this.stonePrefab);o.setPosition(t.getPosition()),o.getComponent(l.default).posSquare=e,o.getComponent(l.default).gameController=this,o.getComponent(l.default).pos=t.getComponent(C.default).pos,this.mapController.node.addChild(o);for(var i=0;i<e.length;i++)this.tiles[e[i]].hasGem=!1,this.tiles[e[i]].hasStone=!0;t.getComponent(n.default)&&t.getComponent(n.default).removedBuffGemsAround(),t.destroy(),this.displayInfoGem.active=!1},t.prototype.removeStone=function(){if(this.stonePick){for(var t=this.stonePick.node,e=t.getComponent(l.default).posSquare,o=0;o<e.length;o++)this.tiles[e[o]].hasGem=!1,this.tiles[e[o]].hasStone=!1;t.destroy(),this.btnRemoveStone.active=!1}},__decorate([c(i.default)],t.prototype,"mapController",void 0),__decorate([c(cc.Prefab)],t.prototype,"gemPrefab",void 0),__decorate([c(cc.Prefab)],t.prototype,"enemyPrefab",void 0),__decorate([c(cc.Prefab)],t.prototype,"stonePrefab",void 0),__decorate([c(cc.Prefab)],t.prototype,"milePrefab",void 0),__decorate([c(cc.Prefab)],t.prototype,"hitPrefab",void 0),__decorate([c(cc.Node)],t.prototype,"blockInPutMap",void 0),__decorate([c(cc.Node)],t.prototype,"shopUi",void 0),__decorate([c(cc.Node)],t.prototype,"playerUi",void 0),__decorate([c(cc.Node)],t.prototype,"showInput",void 0),__decorate([c(cc.Node)],t.prototype,"displayInfoGem",void 0),__decorate([c(cc.Node)],t.prototype,"btnKeepGem",void 0),__decorate([c(cc.Node)],t.prototype,"btnCreateGem",void 0),__decorate([c(cc.Node)],t.prototype,"btnStartWay",void 0),__decorate([c(cc.Node)],t.prototype,"btnRemoveStone",void 0),__decorate([c(cc.Prefab)],t.prototype,"pathPrefab",void 0),__decorate([c(cc.Node)],t.prototype,"showPaths",void 0),__decorate([c(cc.Node)],t.prototype,"listHighlight",void 0),__decorate([c(cc.Label)],t.prototype,"notifica",void 0),__decorate([c(cc.Graphics)],t.prototype,"gra",void 0),t=__decorate([h],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./Enemy":"Enemy","./Gem":"Gem","./GemOpal":"GemOpal","./InitData":"InitData","./MapController":"MapController","./Stone":"Stone","./Tile":"Tile"}],GemDiamon:[function(t,e,o){"use strict";cc._RF.push(e,"e2d53Ki/zBPg4vRnAyRBvZX","GemDiamon"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Gem"),n=t("./Bullet"),s=t("./Enemy"),r=cc._decorator,a=r.ccclass,l=r.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.nearestEnemy=null,t.targetEnemy=null,t}return __extends(t,e),t.prototype.critDamage=function(){return this.listLevelObj[this.currentLevel-1].critDamage},t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Diamon.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.gameController.isActiveWay&&(0<this.listEnemey.length&&this.detectNearestEnemy(),0<this.listEnemey.length&&this.targetEnemy&&this.isCd&&this.shoot()))},t.prototype.detectNearestEnemy=function(){if(!(this.listEnemey.length<=0)){this.nearestEnemy=this.listEnemey[0];for(var t=cc.pDistance(this.nearestEnemy.getPosition(),this.node.getPosition()),e=0,o=this.listEnemey;e<o.length;e++){var i=o[e],n=cc.pDistance(i.getPosition(),this.node.getPosition());n<t&&(t=n,this.nearestEnemy=i)}t<this.range()?this.targetEnemy=this.nearestEnemy:this.targetEnemy=null}},t.prototype.shoot=function(){this.isCd=!1;var t=cc.instantiate(this.bulletPrefab);t.setPosition(this.node.getPosition()),t.getComponent(n.default).target=this.targetEnemy,t.getComponent(n.default).damage=this.damage(),t.getComponent(n.default).indexTarget=this.targetEnemy.getComponent(s.default).index,t.getComponent(n.default).critDamage=this.critDamage(),this.gameController.mapController.node.addChild(t);var e=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,e)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"bulletPrefab",void 0),t=__decorate([a],t)}(i.default);o.default=h,cc._RF.pop()},{"./Bullet":"Bullet","./Enemy":"Enemy","./Gem":"Gem"}],GemEmerald:[function(t,e,o){"use strict";cc._RF.push(e,"f2461eiHglPKYPvWsDIwkpV","GemEmerald"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Gem"),n=t("./Enemy"),s=t("./BulletPosion"),r=cc._decorator,a=r.ccclass,l=r.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.nearestEnemy=null,t.targetEnemy=null,t}return __extends(t,e),t.prototype.damagePosion=function(){return this.listLevelObj[this.currentLevel-1].damagePosion},t.prototype.slow=function(){return this.listLevelObj[this.currentLevel-1].slow},t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Emerald.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.gameController.isActiveWay&&(0<this.listEnemey.length&&this.detectNearestEnemy(),0<this.listEnemey.length&&this.targetEnemy&&this.isCd&&this.shoot()))},t.prototype.detectNearestEnemy=function(){if(!(this.listEnemey.length<=0)){this.nearestEnemy=this.listEnemey[0];for(var t=cc.pDistance(this.nearestEnemy.getPosition(),this.node.getPosition()),e=0,o=this.listEnemey;e<o.length;e++){var i=o[e],n=cc.pDistance(i.getPosition(),this.node.getPosition());n<t&&(t=n,this.nearestEnemy=i)}t<this.range()?this.targetEnemy=this.nearestEnemy:this.targetEnemy=null}},t.prototype.shoot=function(){this.isCd=!1;var t=cc.instantiate(this.bulletPrefab);t.setPosition(this.node.getPosition()),t.getComponent(s.default).target=this.targetEnemy,t.getComponent(s.default).damagePosion=this.damagePosion(),t.getComponent(s.default).damageNormal=this.damage(),t.getComponent(s.default).slow=this.slow(),t.getComponent(s.default).indexTarget=this.targetEnemy.getComponent(n.default).index,this.gameController.mapController.node.addChild(t);var e=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,e)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"bulletPrefab",void 0),t=__decorate([a],t)}(i.default);o.default=h,cc._RF.pop()},{"./BulletPosion":"BulletPosion","./Enemy":"Enemy","./Gem":"Gem"}],GemOpal:[function(t,e,o){"use strict";cc._RF.push(e,"e6e97RQOKFG8oDC6xIMEZvL","GemOpal"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Gem"),i=t("./Bullet"),s=t("./Enemy"),r=cc._decorator,a=r.ccclass,l=r.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.cdTime=0,t.nearestEnemy=null,t.targetEnemy=null,t}return __extends(t,e),t.prototype.buffSDP=function(){return this.listLevelObj[this.currentLevel-1].increaseSDP},t.prototype.rangeBuff=function(){return 32*this.listLevelObj[this.currentLevel-1].rangeIncre},t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Opal.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.checkGemAround(this.rangeBuff()),0<this.listGemAround.length&&this.buffGemsAround(),this.gameController.isActiveWay&&(0<this.listEnemey.length&&this.detectNearestEnemy(),0<this.listEnemey.length&&this.targetEnemy&&this.isCd&&this.shoot()))},t.prototype.detectNearestEnemy=function(){if(!(this.listEnemey.length<=0)){this.nearestEnemy=this.listEnemey[0];for(var t=cc.pDistance(this.nearestEnemy.getPosition(),this.node.getPosition()),e=0,o=this.listEnemey;e<o.length;e++){var i=o[e],n=cc.pDistance(i.getPosition(),this.node.getPosition());n<t&&(t=n,this.nearestEnemy=i)}t<this.range()?this.targetEnemy=this.nearestEnemy:this.targetEnemy=null}},t.prototype.buffGemsAround=function(){for(var t=0,e=this.listGemAround;t<e.length;t++){var o=e[t],i=this.buffSDP();o.getComponent(n.default).incrSDP<i&&(o.getComponent(n.default).incrSDP=i)}},t.prototype.removedBuffGemsAround=function(){for(var t=0,e=this.listGemAround;t<e.length;t++){var o=e[t],i=this.buffSDP();(o.getComponent(n.default).incrSDP=i)&&(o.getComponent(n.default).incrSDP=0)}},t.prototype.shoot=function(){this.isCd=!1;var t=cc.instantiate(this.bulletPrefab);t.setPosition(this.node.getPosition()),t.getComponent(i.default).target=this.targetEnemy,t.getComponent(i.default).damage=this.damage(),t.getComponent(i.default).indexTarget=this.targetEnemy.getComponent(s.default).index,this.gameController.mapController.node.addChild(t);this.cdActiveSkill();var e=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,e)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"bulletPrefab",void 0),t=__decorate([a],t)}(n.default);o.default=h,cc._RF.pop()},{"./Bullet":"Bullet","./Enemy":"Enemy","./Gem":"Gem"}],GemRuby:[function(t,e,o){"use strict";cc._RF.push(e,"709a05Q6WFISK40efjNkrTv","GemRuby"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Gem"),n=t("./Enemy"),s=t("./SplashBullet"),r=cc._decorator,a=r.ccclass,l=r.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SplashBullet=null,t.cdTime=0,t.nearestEnemy=null,t.targetEnemy=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Ruby.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.gameController.isActiveWay&&(0<this.listEnemey.length&&this.detectNearestEnemy(),0<this.listEnemey.length&&this.targetEnemy&&this.isCd&&this.shoot()))},t.prototype.detectNearestEnemy=function(){if(!(this.listEnemey.length<=0)){this.nearestEnemy=this.listEnemey[0];for(var t=cc.pDistance(this.nearestEnemy.getPosition(),this.node.getPosition()),e=0,o=this.listEnemey;e<o.length;e++){var i=o[e],n=cc.pDistance(i.getPosition(),this.node.getPosition());n<t&&(t=n,this.nearestEnemy=i)}t<this.range()?this.targetEnemy=this.nearestEnemy:this.targetEnemy=null}},t.prototype.shoot=function(){this.isCd=!1;var t=cc.instantiate(this.SplashBullet);t.setPosition(this.node.getPosition()),t.getComponent(s.default).target=this.targetEnemy,t.getComponent(s.default).damage=this.damage(),t.getComponent(s.default).indexTarget=this.targetEnemy.getComponent(n.default).index,this.gameController.mapController.node.addChild(t);var e=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,e)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"SplashBullet",void 0),t=__decorate([a],t)}(i.default);o.default=h,cc._RF.pop()},{"./Enemy":"Enemy","./Gem":"Gem","./SplashBullet":"SplashBullet"}],GemSapphire:[function(t,e,o){"use strict";cc._RF.push(e,"fdcceOg1NxOooZfU35YKlDS","GemSapphire"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Gem"),n=t("./Bullet"),s=t("./Enemy"),r=cc._decorator,a=r.ccclass,l=r.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.nearestEnemy=null,t.targetEnemy=null,t}return __extends(t,e),t.prototype.slow=function(){return this.listLevelObj[this.currentLevel-1].slow},t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Sapphire.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.gameController.isActiveWay&&(0<this.listEnemey.length&&this.detectNearestEnemy(),0<this.listEnemey.length&&this.targetEnemy&&this.isCd&&this.shoot()))},t.prototype.detectNearestEnemy=function(){if(!(this.listEnemey.length<=0)){this.nearestEnemy=this.listEnemey[0];for(var t=cc.pDistance(this.nearestEnemy.getPosition(),this.node.getPosition()),e=0,o=this.listEnemey;e<o.length;e++){var i=o[e],n=cc.pDistance(i.getPosition(),this.node.getPosition());n<t&&(t=n,this.nearestEnemy=i)}t<this.range()?this.targetEnemy=this.nearestEnemy:this.targetEnemy=null}},t.prototype.shoot=function(){this.isCd=!1;var t=cc.instantiate(this.bulletPrefab);t.setPosition(this.node.getPosition()),t.getComponent(n.default).target=this.targetEnemy,t.getComponent(n.default).damage=this.damage(),t.getComponent(n.default).indexTarget=this.targetEnemy.getComponent(s.default).index,t.getComponent(n.default).slow=this.slow(),this.gameController.mapController.node.addChild(t);var e=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,e)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"bulletPrefab",void 0),t=__decorate([a],t)}(i.default);o.default=h,cc._RF.pop()},{"./Bullet":"Bullet","./Enemy":"Enemy","./Gem":"Gem"}],GemTopaz:[function(t,e,o){"use strict";cc._RF.push(e,"1c3f5pZz3pMY7URvY8IGE24","GemTopaz"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Gem"),s=t("./Bullet"),r=t("./Enemy"),n=cc._decorator,a=n.ccclass,l=n.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.cdTime=0,t.nearestEnemy=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.currentLevel=1,this.listLevelObj=this.gameController.dataGem.Topaz.level,this.addTouch(),this.updateParameter()},t.prototype.update=function(){this.gameController.isActiveWay&&(this.checkEnemyAround(),this.gameController.isActiveWay&&0<this.listEnemey.length&&this.isCd&&this.shoot())},t.prototype.shoot=function(){this.isCd=!1;for(var t=0,e=this.listEnemey;t<e.length;t++){var o=e[t],i=cc.instantiate(this.bulletPrefab);i.setPosition(this.node.getPosition()),i.getComponent(s.default).target=o,i.getComponent(s.default).damage=this.damage(),i.getComponent(s.default).indexTarget=o.getComponent(r.default).index,this.gameController.mapController.node.addChild(i)}var n=this.cdActiveSkill()-this.cdActiveSkill()*this.incrSDP/100;this.scheduleOnce(this.needCdSkill,n)},t.prototype.needCdSkill=function(){this.isCd=!0},__decorate([l(cc.Prefab)],t.prototype,"bulletPrefab",void 0),t=__decorate([a],t)}(i.default);o.default=h,cc._RF.pop()},{"./Bullet":"Bullet","./Enemy":"Enemy","./Gem":"Gem"}],Gem:[function(t,e,o){"use strict";cc._RF.push(e,"1cadbeAfW1Em5wFkKlZxSkT","Gem"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,n=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pos=null,t.posSquare=[],t.gameController=null,t.isCd=!0,t.isLoadJson=!1,t.listEnemey=[],t.listLevelObj=[],t.listGemAround=[],t.currentLevel=0,t.incrSDP=0,t}return __extends(t,e),(n=t).prototype.cost=function(){return this.listLevelObj[this.currentLevel-1].costUpgrade},t.prototype.range=function(){return 32*this.listLevelObj[this.currentLevel-1].range},t.prototype.cdActiveSkill=function(){return this.listLevelObj[this.currentLevel-1].cdActiveSkill},t.prototype.damage=function(){var t=this.minDamage(),e=this.maxDamage();return Math.floor(Math.random()*(e-t+1))+t},t.prototype.minDamage=function(){return this.listLevelObj[this.currentLevel-1].damageMin},t.prototype.maxDamage=function(){return this.listLevelObj[this.currentLevel-1].damageMax},t.prototype.Type=function(){return this.listLevelObj[this.currentLevel-1].name},t.prototype.addTouch=function(){var o=this;o.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=[o.minDamage(),o.maxDamage()];o.gameController.showDisplayGem(o.pos,o.Type(),e,o.range(),o)},o.node)},t.prototype.checkEnemyAround=function(){if(!(this.gameController.enemys.length<=0)){this.listEnemey=[];for(var t=0,e=this.gameController.enemys;t<e.length;t++){var o=e[t];cc.pDistance(o.getPosition(),this.node.getPosition())<=this.range()&&this.listEnemey.push(o)}}},t.prototype.checkGemAround=function(t){if(!(this.gameController.gems.length<=0)){this.listGemAround=[];for(var e=0,o=this.gameController.gems;e<o.length;e++){var i=o[e];if(cc.pDistance(i.getPosition(),this.node.getPosition())<=t){if(i.getComponent(n).pos.x==this.pos.x&&i.getComponent(n).pos.y==this.pos.y)continue;this.listGemAround.push(i)}}}},t.prototype.updateParameter=function(){this.cost(),this.range(),this.cdActiveSkill(),this.damage(),this.Type()},t=n=__decorate([s],t);var n}(cc.Component));o.default=n,cc._RF.pop()},{}],HitDamage:[function(t,e,o){"use strict";cc._RF.push(e,"d2b8a42Ga9O35cdiQia3/4C","HitDamage"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.damageDisplay=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.node.getComponent(cc.Label),this.label.string=this.damageDisplay.toString(),this.node.runAction(cc.moveBy(.2,cc.v2(0,10))),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.node.destroy()},this)))},t.prototype.start=function(){},t=__decorate([n],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],InitData:[function(t,e,o){"use strict";cc._RF.push(e,"6e9f5QuFj9HnbLqV70Cea5t","InitData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.maxLevelGem=6,t.mileWays=[cc.v2(3,1),cc.v2(3,10),cc.v2(3,20),cc.v2(22,20),cc.v2(41,20),cc.v2(41,10),cc.v2(22,10),cc.v2(22,20),cc.v2(22,40),cc.v2(41,40),cc.v2(41,50)],t}();o.default=i,cc._RF.pop()},{}],MapController:[function(t,e,o){"use strict";cc._RF.push(e,"68f467dcuxJXrR7kw1EJ5XF","MapController"),Object.defineProperty(o,"__esModule",{value:!0});var d=t("./ATile"),i=cc._decorator,n=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.posTouchEnd=null,t.paths=[],t.open=[],t.closed=[],t.newATile=null,t.gameController=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.tilePosistion=function(t){var e=this.node.getContentSize(),o=Math.floor(t.x/16),i=Math.floor((e.height-t.y)/16);return cc.p(o,i)},t.prototype.pixelPosition=function(t){var e=this.node.getContentSize(),o=16*t.x+8,i=e.height-16*t.y-8;return cc.p(o,i)},t.prototype.move=function(t,e){this.paths=this.moveToward(t,e),this.paths.length<1&&cc.log("cannot find path")},t.prototype.indexOfStepArray=function(t,e){for(var o=0;o<e.length;++o)if(t.equals(e[o].position))return o;return-1},t.prototype.insertToOpen=function(t){t.getF();for(var e=t.f,o=this.open.length,i=0;i<o&&!(e<=this.open[i].f);++i);this.open.splice(i,0,t)},t.prototype.moveToward=function(t,e){this.closed=[],this.open=[];var o=[],i=new d.default(t);this.open.push(i);do{var n=this.open.shift();if((n.x<0||n.y<0)&&cc.log("currentStep: "+n),this.closed.push(n),n.position.equals(e)){!0;for(var s=n;o.unshift(s.position),null!==(s=s.last););this.open=[],this.closed=[];break}for(var r=this.borderMovablePoints(n.position),a=0;a<r.length;++a){var l=r[a];if(-1==this.indexOfStepArray(l,this.closed)){var h=new d.default(l),c=this.indexOfStepArray(l,this.open);if(-1==c){h.last=n,h.g=n.g+1;var p=l.sub(e);h.h=Math.abs(p.x)+Math.abs(p.y),this.insertToOpen(h)}else h=this.open[c],n.g+1<h.g&&(h.g=n.g+1,this.open.splice(c,1),this.insertToOpen(h))}else r.splice(a,1),a--}}while(0<this.open.length);return o},t.prototype.borderMovablePoints=function(t){var e,o=[],i=cc.p(t.x,t.y-1),n=this.gameController.tiles;e=i.y*this.gameController.row+i.x,0<=i.y&&n[e]&&i.y<=this.gameController.col-1&&0==n[e].hasGem&&0==n[e].hasStone&&o.push(i);var s=cc.p(t.x,t.y+1);e=s.y*this.gameController.row+s.x,0<=s.y&&n[e]&&s.y<=this.gameController.col-1&&n[e]&&0==n[e].hasGem&&0==n[e].hasStone&&o.push(s);var r=cc.p(t.x-1,t.y);e=r.y*this.gameController.row+r.x,0<=r.x&&n[e]&&r.x<=this.gameController.row-1&&n[e]&&0==n[e].hasGem&&0==n[e].hasStone&&o.push(r);var a=cc.p(t.x+1,t.y);return e=a.y*this.gameController.row+a.x,0<=a.x&&n[e]&&a.x<=this.gameController.row-1&&n[e]&&0==n[e].hasGem&&0==n[e].hasStone&&(o.push(a),!0),o},t=__decorate([n],t)}(cc.Component));o.default=s,cc._RF.pop()},{"./ATile":"ATile"}],SplashBullet:[function(t,e,o){"use strict";cc._RF.push(e,"58c62COWsZMJosl+/VkOe6r","SplashBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Enemy"),n=cc._decorator,s=n.ccclass,r=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.indexTarget=0,t.damage=5,t.endPos=null,t.direction=null,t.time=0,t.activeExp=!1,t.collider=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.endPos=this.target.getPosition();var t=this.node.getPosition(),e=this.target.getPosition();this.direction=cc.pNormalize(cc.pSub(e,t)),this.collider=this.node.getComponent(cc.BoxCollider),this.collider.enabled=!1},t.prototype.update=function(t){10<cc.pDistance(this.node.getPosition(),this.endPos)?this.bulletTarget():this.activeExp||this.explosion()},t.prototype.explosion=function(){this.activeExp=!0;var t=this.node.getContentSize();this.node.setContentSize(4*t.width,4*t.height),this.collider.size.width=4*t.width,this.collider.size.height=4*t.height,this.collider.enabled=!0,this.node.runAction(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){this.collider.enabled=!1},this))),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.node.destroy()},this)))},t.prototype.bulletTarget=function(){var t=this.node.getPosition(),e=cc.pAdd(t,cc.pMult(this.direction,12));this.node.setPosition(e)},t.prototype.onCollisionEnter=function(t,e){"1"==t.tag&&t.node.getComponent(i.default)&&t.node.getComponent(i.default).takeDame(this.damage)},t=__decorate([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./Enemy":"Enemy"}],Stone:[function(t,e,o){"use strict";cc._RF.push(e,"55adaGrlSpDvoaWYtkt5Sly","Stone"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pos=null,t.posSquare=[],t.gameController=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.addTouch()},t.prototype.addTouch=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.gameController.isActiveWay||((e.gameController.stonePick=e).gameController.btnRemoveStone.active=!0)},e.node)},t=__decorate([n],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],Tile:[function(t,e,o){"use strict";cc._RF.push(e,"33556h5655HYqUDY554I5x4","Tile"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(){function t(){this.hasGem=!1,this.hasStone=!1,this.pos=null}return t=__decorate([n],t)}());o.default=s,cc._RF.pop()},{}]},{},["ATile","Bullet","BulletPosion","Enemy","GameController","Gem","GemDiamon","GemEmerald","GemOpal","GemRuby","GemSapphire","GemTopaz","HitDamage","InitData","MapController","SplashBullet","Stone","Tile"]);